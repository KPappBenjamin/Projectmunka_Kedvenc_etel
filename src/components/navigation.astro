---
import { navItems } from '~/constants/nav-items';
import clsx from 'clsx';

const { path } = Astro.props as { path: string };
---

<nav class="navbar navbar-expand-lg">
  <div class="container-fluid px-4">
    <a class="navbar-brand fw-semibold text-light" href="/">IKT - Kedvenc ételek</a>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-theme="dark"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a
            href="/"
            class={clsx('nav-link text-light', path === '' && 'active')}
            {...path === '' && { 'aria-current': 'page' }}>Főoldal</a
          >
        </li>

        {
          navItems.map(({ name, items }) => (
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle text-light"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                {name}
              </a>

              <ul class="dropdown-menu dropdown-menu-end">
                {items.map((item) => (
                  <li>
                    <a
                      href={item.path}
                      class={clsx('dropdown-item', path === item.path && 'active')}
                      {...(path === item.path && { 'aria-current': 'page' })}
                    >
                      {item.name}
                    </a>
                  </li>
                ))}
              </ul>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</nav>
